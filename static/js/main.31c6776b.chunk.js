(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(17)},17:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(10),s=n.n(r),o=n(1),u=n(2),l=n(5),c=n(4),d=n(6),p=n(3),h=(n(7),function(){function e(t,n,i,a,r){Object(o.a)(this,e),this.suite=t,this.color=n,this.cardNum=i,this.unicode=a,this.id=r,this.isOpen=!1}return Object(u.a)(e,[{key:"canPlayOnTopOf",value:function(e){return e?e.color!=this.color&&this.cardNum+1==e.cardNum:13==this.cardNum}},{key:"canPlayBelow",value:function(e){return e?e.color==this.color&&this.cardNum-1==e.cardNum:1==this.cardNum}},{key:"setIsOpen",value:function(){this.isOpen=!0}}]),e}()),f=function(){for(var e=[],t=[{suit:"Spades",color:"Black",unicode:"&#x1F0A"},{suit:"Hearts",color:"Red",unicode:"&#x1F0B"},{suit:"Diamond",color:"Red",unicode:"&#x1F0C"},{suit:"Club",color:"Black",unicode:"&#x1F0D"}],n=0;n<4;n++)for(var i=1;i<14;i++){var a=t[n],r=i.toString(16);i>=12&&(r=(i+1).toString(16)),e.push(new h(a.suit,a.color,i,a.unicode+r,n+"_"+i))}return e},v=function(){function e(t){Object(o.a)(this,e),this.pilesCards=t,this.piles=this.createInitialPiles()}return Object(u.a)(e,[{key:"createInitialPiles",value:function(){for(var e=[],t=0;t<7;t++)e.push(this.pilesCards.splice(0,t+1));return e}},{key:"getCard",value:function(e){return Object(p.flattenDeep)(this.piles).find(function(t){return t.id==e})}},{key:"addCards",value:function(e,t){this.piles[e]=this.piles[e].concat(t)}},{key:"getPiles",value:function(){return this.piles}},{key:"isCardPlayable",value:function(e,t){var n=Object(p.last)(this.piles[t]);return e.canPlayOnTopOf(n)}},{key:"setInitialOpenCards",value:function(){for(var e=0;e<7;e++){var t=this.piles[e],n=t[t.length-1];n&&n.setIsOpen()}}},{key:"removeCard",value:function(e){var t=this.piles.find(function(t){return t.find(function(t){return t.id==e})});if(t){var n=t.findIndex(function(t){return t.id==e});return t.splice(n)}return[]}}]),e}(),b=function(){function e(t){Object(o.a)(this,e),this.foundations=[[],[],[],[]],this.wastePile=t,this.openPile=[]}return Object(u.a)(e,[{key:"getFoundations",value:function(){return this.foundations}},{key:"getWastePile",value:function(){return this.wastePile}},{key:"getOpenPile",value:function(){return this.openPile}},{key:"getCardFromOpenPile",value:function(e){return this.openPile.find(function(t){return t.id==e})}},{key:"getCardFromFoundation",value:function(e){var t=this.foundations.find(function(t){return t.find(function(t){return t.id==e})});return Object(p.last)(t)}},{key:"getCard",value:function(e){var t=this.getCardFromOpenPile(e);return t||(t=this.getCardFromFoundation(e)),t}},{key:"addCards",value:function(e,t){this.foundations[e]=this.foundations[e].concat(t)}},{key:"removeCard",value:function(e){var t=this.getCardFromOpenPile(e);return t||(t=this.getCardFromFoundation(e),this.foundations.forEach(function(t){return Object(p.remove)(t,function(t){return t.id==e})})),Object(p.remove)(this.openPile,function(t){return t.id==e}),t}},{key:"openWastePileCard",value:function(){if(0==this.wastePile.length)return this.wastePile=this.openPile.slice(),void(this.openPile=[]);var e=Object(p.last)(this.wastePile);e.setIsOpen(),this.openPile.push(e),this.wastePile.pop()}},{key:"isCardPlayable",value:function(e,t){var n=Object(p.last)(this.foundations[t]);return e.canPlayBelow(n)}}]),e}(),O=function(){function e(){Object(o.a)(this,e),this.deck=Object(p.shuffle)(f()),this.tableu=new v(this.deck.slice(0,28)),this.foundations=new b(this.deck.slice(28))}return Object(u.a)(e,[{key:"openWastePileCard",value:function(){this.foundations.openWastePileCard()}},{key:"getPiles",value:function(){return this.tableu.getPiles()}},{key:"getWastePile",value:function(){return this.foundations.getWastePile()}},{key:"getOpenPile",value:function(){return this.foundations.getOpenPile()}},{key:"getFoundations",value:function(){return this.foundations.getFoundations()}},{key:"isCardPlayable",value:function(e,t){return t.toString().startsWith("_")?this.foundations.isCardPlayable(e,t.slice(1)):this.tableu.isCardPlayable(e,t)}},{key:"getCard",value:function(e){var t=this.tableu.getCard(e);return t||(t=this.foundations.getCard(e)),t}},{key:"setInitialOpenCards",value:function(){this.tableu.setInitialOpenCards()}},{key:"removeCard",value:function(e){var t=this.tableu.removeCard(e);return 0==t.length&&(t=this.foundations.removeCard(e)),t}},{key:"addCards",value:function(e,t){e.toString().startsWith("_")?this.foundations.addCards(e.slice(1),t):this.tableu.addCards(e,t)}}]),e}(),k=function(e){function t(e){return Object(o.a)(this,t),Object(l.a)(this,Object(c.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"drag",value:function(e){e.dataTransfer.setData("id",e.target.id)}},{key:"getOpenCardView",value:function(e){return a.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(e.unicode)},className:"card",draggable:"true",onDragStart:this.drag.bind(this),id:e.id,key:e.id,style:{color:"".concat(e.color)}})}},{key:"getClosedCardView",value:function(){return a.a.createElement("div",{dangerouslySetInnerHTML:{__html:"&#x1F0A0"},className:"card"})}},{key:"render",value:function(){return this.props.card&&this.props.card.isOpen?this.getOpenCardView(this.props.card):this.getClosedCardView()}}]),t}(a.a.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"getPileView",value:function(e,t){return a.a.createElement("div",{key:t,id:t,onDrop:this.props.drop.bind(null,t),onDragOver:this.allowDrop.bind(this),className:"pile"},e)}},{key:"render",value:function(){var e=this;return this.props.setInitialOpenCards(),this.props.piles.map(function(t,n){var i=t.map(function(e){return a.a.createElement(k,{card:e})});return e.getPileView(i,n)})}}]),t}(a.a.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"render",value:function(){return a.a.createElement("div",{onDrop:this.props.drop.bind(null,"_"+this.props.pileNum),onDragOver:this.allowDrop.bind(this),id:"_"+this.props.pileNum},a.a.createElement(k,{card:this.props.lastCard}))}}]),t}(a.a.Component),m=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.foundations.map(function(t,n){return a.a.createElement(C,{pileNum:n,lastCard:Object(p.last)(t),drop:e.props.drop})});return a.a.createElement("div",{className:"foundationPiles"}," ",t)}}]),t}(a.a.Component),P=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"foundation"},a.a.createElement("div",{className:"wasteCardPiles"},a.a.createElement("div",{className:"card",onClick:this.props.openTopCard}),a.a.createElement(k,{card:this.props.openCard})),a.a.createElement(m,{foundations:this.props.foundations,drop:this.props.drop}))}}]),t}(a.a.Component),g=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).deck=new O,n.state={piles:n.deck.getPiles(),wastePile:n.deck.getWastePile(),openPile:n.deck.getOpenPile(),foundations:n.deck.getFoundations()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"openTopCard",value:function(){var e=this;this.deck.openWastePileCard(),this.setState(function(t){return t.wastePile=e.deck.getWastePile(),t.openPile=e.deck.getOpenPile(),t})}},{key:"updatePiles",value:function(e,t){var n=this.deck.removeCard(e);this.deck.addCards(t,n),this.setState(function(e){return e.piles=e.piles,e})}},{key:"isCardPlayable",value:function(e,t){var n=this.deck.getCard(e);return this.deck.isCardPlayable(n,t)}},{key:"drop",value:function(e,t){t.preventDefault();var n=t.dataTransfer.getData("id");this.isCardPlayable(n,e)&&this.updatePiles(n,e)}},{key:"render",value:function(){return a.a.createElement("div",{className:"game"},a.a.createElement(P,{deck:this.deck,drop:this.drop.bind(this),openTopCard:this.openTopCard.bind(this),openCard:Object(p.last)(this.state.openPile),foundations:this.state.foundations}),a.a.createElement("hr",null),a.a.createElement("div",{className:"piles"},a.a.createElement(y,{drop:this.drop.bind(this),piles:this.state.piles,setInitialOpenCards:this.deck.setInitialOpenCards.bind(this.deck)})))}}]),t}(a.a.Component);s.a.render(a.a.createElement(g,null),document.getElementById("root"))},7:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.31c6776b.chunk.js.map